## ğŸ¬ Sweet Shop Management System â€“ Backend

## A robust, secure, and scalable backend for the Sweet Shop Management System, built using Node.js, Express, MongoDB, and JWT authentication, following clean coding practices and Test-Driven Development (TDD) principles.

## Project Overview

# This backend serves as the core engine of the Sweet Shop Management System.
# It provides secure APIs for:

# User authentication (Admin & User)

# Sweet inventory management

# Purchase & stock control

# Role-based access control (RBAC)

# The system ensures data consistency, security, and real-world readiness.

# ğŸ›  Tech Stack

# Runtime: Node.js

Framework: Express.js

Database: MongoDB (Mongoose ODM)
 
Authentication: JWT (JSON Web Token)

# Password Security: bcryptjs

# CORS Handling: cors

# Environment Config: dotenv

# Testing (Planned / Implemented): Jest / Supertest

# Deployment: Render

## ğŸ“ Folder Structure (Detailed)
## backend/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ db.js
â”‚   â”‚       â†’ MongoDB connection logic
â”‚
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ auth.controller.js
â”‚   â”‚   â”‚   â†’ Handles user registration & login
â”‚   â”‚   â””â”€â”€ sweet.controller.js
â”‚   â”‚       â†’ Handles sweets CRUD, purchase & restock logic
â”‚
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.middleware.js
â”‚   â”‚   â”‚   â†’ JWT token verification
â”‚   â”‚   â””â”€â”€ admin.middleware.js
â”‚   â”‚       â†’ Restricts admin-only routes
â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â”‚   â†’ User schema (name, email, password, role)
â”‚   â”‚   â””â”€â”€ Sweet.js
â”‚   â”‚       â†’ Sweet schema (name, category, price, quantity)
â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.routes.js
â”‚   â”‚   â”‚   â†’ Authentication endpoints
â”‚   â”‚   â””â”€â”€ sweet.routes.js
â”‚   â”‚       â†’ Sweet & inventory endpoints
â”‚
â”‚   â”œâ”€â”€ app.js
â”‚   â”‚   â†’ Express app configuration (middlewares & routes)
â”‚   â”‚
â”‚   â””â”€â”€ server.js
â”‚       â†’ App bootstrap & server startup
â”‚
â”œâ”€â”€ .env
â”‚   â†’ Environment variables (DB URI, JWT secret)
â”‚
â”œâ”€â”€ package.json
â”‚   â†’ Project metadata & scripts
â”‚
â””â”€â”€ README.md

### Authentication & Authorization
User Roles

User â†’ Can view & purchase sweets

Admin â†’ Full inventory control (add/update/delete/restock)

JWT Flow

User logs in

Server generates JWT with id & role

Token is sent in Authorization: Bearer <token>

Middleware validates token on protected routes

#  ğŸ“¡ API Endpoints
ğŸ”‘ Auth Routes
Method	Endpoint	Description
POST	/api/auth/register	Register a new user
POST	/api/auth/login	Login & receive JWT
ğŸ­ Sweet Routes (Protected)
Method	Endpoint	Access	Description
GET	/api/sweets	User/Admin	Get all sweets
POST	/api/sweets	Admin	Add a new sweet
PUT	/api/sweets/:id	Admin	Update sweet
DELETE	/api/sweets/:id	Admin	Delete sweet
ğŸ“¦ Inventory Routes
Method	Endpoint	Access	Description
POST	/api/sweets/:id/purchase	User	Purchase sweet
POST	/api/sweets/:id/restock	Admin	Increase quantity
ğŸ§ª Test-Driven Development (TDD)

This project follows Red â†’ Green â†’ Refactor methodology.

Test Coverage Includes:

User registration & login

JWT authentication

Role-based access

Inventory update logic

Edge cases (out-of-stock, invalid token, unauthorized access)

Tests are written to ensure business logic correctness, not just coverage.

ğŸŒ CORS & Security

Explicitly allowed frontend domains

Handles preflight OPTIONS requests

JWT-protected routes

Password hashing with bcrypt

No sensitive data exposed

âš™ï¸ Environment Variables

Create a .env file:

PORT=5002
MONGO_URI=your_mongodb_connection_string
JWT_SECRET=your_secret_key

ğŸš€ Running the Project Locally
# Install dependencies
npm install

# Start development server
npm run dev

# Production
npm start


Server runs at:

http://localhost:5002

â˜ï¸ Deployment

Backend: Render

Environment variables configured via Render Dashboard

Auto-deploy enabled on git push

ğŸ¤– My AI Usage
Tools Used

ChatGPT (OpenAI)

How AI Was Used

API design brainstorming

Middleware logic refinement

Debugging CORS & JWT issues

Writing clean controller structure

Improving README documentation

Reflection

AI significantly improved development speed and debugging efficiency.
However, all final logic, validations, and architectural decisions were manually reviewed and implemented to ensure correctness and understanding.

âœ… Conclusion

This backend is:

âœ” Secure

âœ” Scalable

âœ” Testable

âœ” Production-ready

It demonstrates real-world backend engineering practices, suitable for interviews and enterprise applications.
