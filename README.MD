### ğŸ¬ Sweet Shop Management System â€“ Backend

### ğŸ“Œ Project Overview
Sweet Shop Management System Backend ek secure, scalable aur production-ready REST API hai jo authentication, inventory management aur role-based access control handle karta hai.  
Yeh backend frontend SPA ko power karta hai aur real-world business rules follow karta hai.

---

### ğŸ¯ Key Objectives
- Secure authentication using JWT
- Role-based access (User & Admin)
- Reliable inventory management
- Clean API architecture
- Test-driven and scalable design

---

### ğŸ›  Tech Stack
- Node.js
- Express.js
- MongoDB (Mongoose)
- JWT (jsonwebtoken)
- bcryptjs
- cors
- dotenv

---

### ğŸ“ Folder Structure
backend/
â”‚
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ config/
â”‚ â”‚ â””â”€â”€ db.js
â”‚ â”‚ â†’ MongoDB connection setup
â”‚
â”‚ â”œâ”€â”€ controllers/
â”‚ â”‚ â”œâ”€â”€ auth.controller.js
â”‚ â”‚ â”‚ â†’ User registration & login logic
â”‚ â”‚ â””â”€â”€ sweet.controller.js
â”‚ â”‚ â†’ Sweet CRUD, purchase & restock logic
â”‚
â”‚ â”œâ”€â”€ middleware/
â”‚ â”‚ â”œâ”€â”€ auth.middleware.js
â”‚ â”‚ â”‚ â†’ JWT token verification
â”‚ â”‚ â””â”€â”€ admin.middleware.js
â”‚ â”‚ â†’ Admin-only route protection
â”‚
â”‚ â”œâ”€â”€ models/
â”‚ â”‚ â”œâ”€â”€ User.js
â”‚ â”‚ â”‚ â†’ User schema (name, email, password, role)
â”‚ â”‚ â””â”€â”€ Sweet.js
â”‚ â”‚ â†’ Sweet schema (name, category, price, quantity)
â”‚
â”‚ â”œâ”€â”€ routes/
â”‚ â”‚ â”œâ”€â”€ auth.routes.js
â”‚ â”‚ â”‚ â†’ Authentication routes
â”‚ â”‚ â””â”€â”€ sweet.routes.js
â”‚ â”‚ â†’ Sweet & inventory routes
â”‚
â”‚ â”œâ”€â”€ app.js
â”‚ â”‚ â†’ Express app configuration
â”‚ â”‚
â”‚ â””â”€â”€ server.js
â”‚ â†’ Server bootstrap
â”‚
â”œâ”€â”€ .env
â”‚ â†’ Environment variables
â”‚
â”œâ”€â”€ package.json
â”‚ â†’ Dependencies & scripts
â”‚
â””â”€â”€ README.md


---

### ğŸ” Authentication & Authorization
- JWT-based authentication
- Tokens include user ID & role
- Middleware validates token on protected routes
- Admin routes restricted using role validation

---

### ğŸ”‘ Authentication APIs
| Method | Endpoint | Description |
|------|--------|------------|
| POST | `/api/auth/register` | Register a new user |
| POST | `/api/auth/login` | Login and receive JWT |

---

### ğŸ­ Sweet Management APIs (Protected)
| Method | Endpoint | Access | Description |
|------|--------|--------|------------|
| GET | `/api/sweets` | User/Admin | Fetch all sweets |
| POST | `/api/sweets` | Admin | Add a new sweet |
| PUT | `/api/sweets/:id` | Admin | Update sweet |
| DELETE | `/api/sweets/:id` | Admin | Delete sweet |

---

### ğŸ“¦ Inventory APIs
| Method | Endpoint | Access | Description |
|------|--------|--------|------------|
| POST | `/api/sweets/:id/purchase` | User | Purchase a sweet |
| POST | `/api/sweets/:id/restock` | Admin | Restock sweet quantity |

---

### ğŸ§ª Test-Driven Development (TDD)
This backend follows **Red â†’ Green â†’ Refactor** methodology.

#### Covered Scenarios
- User registration & login
- JWT authentication validation
- Role-based access checks
- Inventory update logic
- Edge cases (out of stock, unauthorized access)

Tests are designed to validate **business logic**, not just endpoints.

---

### ğŸŒ CORS & Security
- Strictly allowed frontend origins
- Preflight OPTIONS handling
- JWT protected routes
- Password hashing using bcrypt
- Secure environment variables

---

### âš™ï¸ Environment Variables
Create a `.env` file:



PORT=5002
MONGO_URI=your_mongodb_connection_string
JWT_SECRET=your_jwt_secret


---

### ğŸš€ Running Locally
```bash
# Install dependencies
npm install

# Development
npm run dev

# Production
npm start


Server runs at:

http://localhost:5002

â˜ï¸ Deployment

Platform: Render

Auto-deploy on Git push

Environment variables managed via Render dashboard

Production-ready configuration

ğŸ¤– My AI Usage
Tools Used

ChatGPT (OpenAI)

How AI Was Used

API design brainstorming

Middleware & JWT flow clarification

Debugging CORS & deployment issues

Writing clean documentation

Reflection

AI significantly improved productivity and debugging speed.
All final logic, validations, and architecture decisions were manually reviewed and implemented to ensure correctness and deep understanding.

âœ… Conclusion

This backend is:

âœ” Secure

âœ” Scalable

âœ” Role-aware

âœ” Testable

âœ” Production-ready
